# Logs for Using GROMACS

# Control: Rolipram in Water

* Lysozyme Tutorial: [Lysozyme](http://www.mdtutorials.com/gmx/lysozyme/index.html)

* Another Tutorial: [Molecular Dynamics simulation of a protein in water environment](https://www.compchems.com/gromacs-tutorial-molecular-dynamics-simulation-of-a-protein-in-water-environment/#protein-selection-and-initial-setup)
* RMSF Calculation: [Obtain RMSF vs residue number using GROMACS](https://www.compchems.com/how-to-compute-the-rmsf-using-gromacs/)



### Index of files:
 
1. Rolipram protein PDB file: Provided
2. MDP file for generating ions tpr: http://www.mdtutorials.com/gmx/lysozyme/Files/ions.mdp
3. MDP file for energy minimization: 
    * Original: http://www.mdtutorials.com/gmx/lysozyme/Files/minim.mdp
    * Modified: [minim.mdp](minim.mdp)
4. MDP file for NVT equilibriation: http://www.mdtutorials.com/gmx/lysozyme/Files/nvt.mdp
5. MDP file for NPT equilibriation: http://www.mdtutorials.com/gmx/lysozyme/Files/npt.mdp
6. MDP file for actual production MD: http://www.mdtutorials.com/gmx/lysozyme/Files/md.mdp

## Steps for running with OPLS force field (Same as MMP2 protein):

Main problem: Unknown ligand, gromacs cannot automatically make topology.

1. Got ligand PDB file
2. Used PyMol to add all hydrogen atoms to PDB file and save as new PDB file
3. Upload latest PDB file to [LigParGen server](http://zarbi.chem.yale.edu/ligpargen/). Output was gro and itp files with unknown residue labelled as "UNL". Renamed gro file but kept itp file as is.
4. Got a generic topol file from [researchgate](https://www.researchgate.net/post/How_to_generate_top_file_for_Gromacs) . Replaced "DRG" by "UNL"
5. Included the itp file generated by LigParGen in the topol.top file as:
    ```bash
    ; Include drug topologies
    #include "UNL_F78916.itp"
    ```
    below the inclusion of OPLS forcefield file 
6. Added cubic box using 'gmx editconf'. Manually altered the box dimensions in the gro file to match that of the MMP2 box (cubic box: last line has Lx Ly Lz in nm)
7. Solvated with water using 'gmx solvate'
8. Tried to neutralize spurious charges with Na and Cl ions: Didn't work, as the net charge is very small: 0.0003. Ignoring for now, but there may be artifacts.
9. gmx grompp for EM gave warning and crashed as the system is not fulyl neutral. Reran with -maxwarn 2 flag.
10. Ran steepest descent minimization of energy. Converged pretty well on my laptop with 12 openmp threads.

TODO:

1. Ran NVT and NPT equilibriation
2. Production MD from NPT equilibrium. 100 ns
3. Post processing: Obtained RMSD and Radius of Gyration. New quantity (RMSF) as a function of residue number was also obtained.

