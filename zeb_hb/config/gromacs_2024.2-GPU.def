Bootstrap: library   
From: rstijerina/taccapps/jupyter-lab-hpc:1.1.1    
Stage: final

%environment
  MPLCONFIGDIR=/host_pwd

%runscript
  exec echo "The runscript does not do anything! Use singularity exec instead."

%post
  # Update, install and cleanup of system packages needed at run-time
  apt-get update -y
  apt-get upgrade -y
  apt-get install build-essential -y
  rm -rf /var/lib/apt/lists/*
  apt-get clean
  conda config --add channels defaults
  conda config --add channels conda-forge
  conda config --add channels bioconda
  conda update conda -y
  conda install -c bioconda -c conda-forge nglview mdanalysis gromacs_py gromacs==2024.2=nompi_cuda_h5cb645a_4 -y

%labels
  APPLICATION GROMACS-GPU
  AUTHOR Analabha Roy
  EMAIL daneel@utexas.edu
  YEAR 2024

%help
  This container can do GROMACS-GPU + pp via:
    Anaconda Python: 
      python
      acpype
      ambertools
      biopython
      cudatoolkit=11.8
      gromacs=2024.2=nompi_cuda_h5cb645a_4
      gromacs_py
      h5py
      nbconvert
      mdanalysis
      nglview
      openbabel
      pdb2pqr
      seaborn
